# 数据库配置
spring.datasource.url=jdbc:mysql://192.168.13.247:3306/library_management?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai&autoReconnect=true&failOverReadOnly=false&maxReconnects=10
spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# 数据库连接池配置，设置连接超时和最大重试次数
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# 禁用数据库连接池测试
spring.datasource.test-on-borrow=false
spring.datasource.test-while-idle=false

# 禁用数据库初始化自动执行
spring.sql.init.mode=never
# 允许应用在数据库不可用时仍能启动
spring.datasource.continue-on-error=true
spring.sql.init.continue-on-error=true

# JPA配置，避免数据库连接失败时无法启动
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.generate-ddl=false
spring.jpa.hibernate.use-new-id-generator-mappings=false
spring.jpa.defer-datasource-initialization=true

# 禁用数据源自动配置的启动检查
spring.datasource.continue-on-error=true

# 配置MyBatis Plus在启动时不检查数据库连接
mybatis-plus.global-config.db-config.id-type=auto
mybatis-plus.global-config.db-config.field-strategy=not_empty
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl

# MyBatis Plus配置
mybatis-plus.mapper-locations=classpath:mapper/**/*.xml
mybatis-plus.type-aliases-package=com.library.entity
mybatis-plus.configuration.map-underscore-to-camel-case=true

# 服务器配置
server.port=8080
server.servlet.context-path=/

# Spring Security配置
spring.security.user.name=admin
spring.security.user.password=admin123

# 日志配置
logging.level.root=INFO
logging.level.com.library=DEBUG

# 禁用Springfox/Swagger文档插件
springfox.documentation.enabled=false
# 或者使用下面的配置来配置Swagger
springfox.documentation.swagger-ui.enabled=false